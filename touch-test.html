<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è§¦å±æ§åˆ¶æµ‹è¯•</title>
    <link rel="stylesheet" href="css/launch-pad.css">
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: #1a1a2e;
            color: white;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            color: #00d4aa;
            margin-bottom: 30px;
        }
        
        .test-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: left;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .test-note {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .back-button {
            display: inline-block;
            background: #007bff;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 20px;
        }
        
        .back-button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸš€ è§¦å±æ§åˆ¶æµ‹è¯•é¡µé¢</h1>
        
        <div class="test-info">
            <h2>è§¦å±æ§åˆ¶åŠŸèƒ½è¯´æ˜</h2>
            <p>æˆ‘ä»¬ä¸ºç«ç®­å‘å°„æ¨¡æ‹Ÿå™¨æ·»åŠ äº†å®Œæ•´çš„è§¦å±æ§åˆ¶æ”¯æŒï¼Œè®©æ‚¨å¯ä»¥åœ¨å¹³æ¿ç”µè„‘å’Œæ‰‹æœºä¸Šè½»æ¾æ“æ§ç«ç®­ï¼š</p>
            
            <ul class="feature-list">
                <li><strong>ğŸ® è§¦å±è½¬å‘æ§åˆ¶ç›˜ï¼š</strong> 120px åœ†å½¢æ§åˆ¶ç›˜ï¼Œæ”¯æŒæ‹–æ‹½æ“ä½œï¼Œå®æ—¶æ˜¾ç¤ºè½¬å‘è§’åº¦ (-45Â° åˆ° +45Â°)</li>
                <li><strong>â¬†ï¸ å‚ç›´æ¨åŠ›æ»‘å—ï¼š</strong> 160px é«˜åº¦çš„å‚ç›´æ»‘å—ï¼Œæ”¯æŒæ‹–æ‹½è°ƒèŠ‚æ¨åŠ› (0-100%)</li>
                <li><strong>ğŸ¯ å¿«æ·æ¨åŠ›æŒ‰é’®ï¼š</strong> ä¸€é”®è®¾ç½®æ¨åŠ›ä¸º 0% æˆ– 100%</li>
                <li><strong>ğŸš€ ä¸»æ§åˆ¶æŒ‰é’®ï¼š</strong> å‘å°„ã€åˆ†ç¦»ã€ä¸­æ­¢ç­‰å…³é”®æ“ä½œæŒ‰é’®</li>
                <li><strong>ğŸ“± å“åº”å¼è®¾è®¡ï¼š</strong> æ¡Œé¢ç«¯è‡ªåŠ¨éšè—ï¼Œç§»åŠ¨ç«¯å®Œç¾æ˜¾ç¤º</li>
                <li><strong>ğŸ Safari å…¼å®¹ï¼š</strong> ç‰¹åˆ«ä¼˜åŒ– iOS Safari æµè§ˆå™¨çš„è§¦å±ä½“éªŒ</li>
            </ul>
        </div>
        
        <div class="test-note">
            <h3>ğŸ“ æµ‹è¯•è¯´æ˜</h3>
            <p><strong>åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæµ‹è¯•ï¼š</strong></p>
            <ol style="text-align: left;">
                <li>å…ˆåœ¨ç«ç®­è£…é…å¤§æ¥¼åˆ›å»ºä¸€ä¸ªç«ç®­</li>
                <li>è¿›å…¥å‘å°„å°é¡µé¢</li>
                <li>åœ¨è§¦å±è®¾å¤‡ä¸Šï¼Œè§¦å±æ§åˆ¶é¢æ¿ä¼šè‡ªåŠ¨æ˜¾ç¤º</li>
                <li>ä½¿ç”¨è½¬å‘æ§åˆ¶ç›˜è¿›è¡Œå·¦å³è½¬å‘</li>
                <li>ä½¿ç”¨æ¨åŠ›æ»‘å—è°ƒèŠ‚å¼•æ“æ¨åŠ›</li>
                <li>ç‚¹å‡»å‘å°„ã€åˆ†ç¦»ã€ä¸­æ­¢æŒ‰é’®è¿›è¡Œæ“ä½œ</li>
            </ol>
            
            <p><strong>åœ¨æ¡Œé¢ä¸Šï¼š</strong></p>
            <p>è§¦å±æ§åˆ¶é¢æ¿é»˜è®¤éšè—ï¼Œå¯ä»¥ä½¿ç”¨é”®ç›˜æ§åˆ¶ï¼šA/D è½¬å‘ï¼ŒShift/Ctrl è°ƒèŠ‚æ¨åŠ›ã€‚</p>
        </div>
        
        <a href="rocket-builder.html" class="back-button">ğŸ”§ å‰å¾€è£…é…å¤§æ¥¼</a>
        <a href="launch-pad.html" class="back-button">ğŸš€ å‰å¾€å‘å°„å°</a>
    </div>
    
    <!-- æ˜¾ç¤ºè§¦å±æ§åˆ¶é¢æ¿ç”¨äºå±•ç¤º -->
    <div id="touchControlPanel" class="touch-control-panel active" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
        <div class="touch-steering-section">
            <div class="touch-steering-pad" id="touchSteeringPad">
                <div class="touch-steering-indicator" id="touchSteeringIndicator"></div>
            </div>
            <div class="touch-steering-info">
                <span id="touchSteeringAngle">0Â°</span>
            </div>
        </div>
        
        <div class="touch-throttle-section">
            <div class="touch-throttle-container">
                <div class="touch-throttle-slider" id="touchThrottleSlider">
                    <div class="touch-throttle-fill" id="touchThrottleFill"></div>
                    <div class="touch-throttle-handle" id="touchThrottleHandle"></div>
                </div>
                <div class="touch-throttle-value" id="touchThrottleValue">0%</div>
            </div>
        </div>
        
        <div class="touch-main-controls">
            <button id="touchLaunchBtn" class="touch-main-btn launch-btn">å‘å°„</button>
            <button id="touchStageBtn" class="touch-main-btn stage-btn">åˆ†ç¦»</button>
            <button id="touchAbortBtn" class="touch-main-btn abort-btn">ä¸­æ­¢</button>
        </div>
    </div>

    <script>
        // ç®€å•çš„æ¼”ç¤ºè„šæœ¬
        document.addEventListener('DOMContentLoaded', function() {
            // æ¨¡æ‹Ÿè§¦å±æ§åˆ¶äº¤äº’
            const steeringPad = document.getElementById('touchSteeringPad');
            const steeringIndicator = document.getElementById('touchSteeringIndicator');
            const steeringAngle = document.getElementById('touchSteeringAngle');
            
            if (steeringPad && steeringIndicator) {
                let isDragging = false;
                
                const handleStart = (e) => {
                    isDragging = true;
                    e.preventDefault();
                };
                
                const handleMove = (e) => {
                    if (!isDragging) return;
                    e.preventDefault();
                    
                    const rect = steeringPad.getBoundingClientRect();
                    const centerX = rect.left + rect.width / 2;
                    const centerY = rect.top + rect.height / 2;
                    
                    let clientX, clientY;
                    if (e.touches) {
                        clientX = e.touches[0].clientX;
                        clientY = e.touches[0].clientY;
                    } else {
                        clientX = e.clientX;
                        clientY = e.clientY;
                    }
                    
                    const deltaX = clientX - centerX;
                    const deltaY = clientY - centerY;
                    
                    const maxRadius = rect.width / 2 - 15;
                    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                    
                    let finalX = deltaX;
                    let finalY = deltaY;
                    
                    if (distance > maxRadius) {
                        finalX = (deltaX / distance) * maxRadius;
                        finalY = (deltaY / distance) * maxRadius;
                    }
                    
                    const angle = Math.max(-45, Math.min(45, (finalX / maxRadius) * 45));
                    
                    steeringIndicator.style.transform = `translate(-50%, -50%) translate(${finalX}px, ${finalY}px)`;
                    steeringAngle.textContent = `${Math.round(angle)}Â°`;
                };
                
                const handleEnd = (e) => {
                    isDragging = false;
                    steeringIndicator.style.transform = 'translate(-50%, -50%)';
                    steeringAngle.textContent = '0Â°';
                };
                
                // è§¦å±äº‹ä»¶
                steeringPad.addEventListener('touchstart', handleStart);
                steeringPad.addEventListener('touchmove', handleMove);
                steeringPad.addEventListener('touchend', handleEnd);
                
                // é¼ æ ‡äº‹ä»¶ï¼ˆç”¨äºæ¡Œé¢æµ‹è¯•ï¼‰
                steeringPad.addEventListener('mousedown', handleStart);
                document.addEventListener('mousemove', handleMove);
                document.addEventListener('mouseup', handleEnd);
            }
            
            // æ¨åŠ›æ»‘å—æ¼”ç¤º
            const throttleSlider = document.getElementById('touchThrottleSlider');
            const throttleHandle = document.getElementById('touchThrottleHandle');
            const throttleFill = document.getElementById('touchThrottleFill');
            const throttleValue = document.getElementById('touchThrottleValue');
            
            if (throttleSlider) {
                let isDragging = false;
                
                const updateThrottle = (percentage) => {
                    throttleHandle.style.bottom = `${percentage}%`;
                    throttleFill.style.height = `${percentage}%`;
                    throttleValue.textContent = `${Math.round(percentage)}%`;
                };
                
                const handleStart = (e) => {
                    isDragging = true;
                    e.preventDefault();
                };
                
                const handleMove = (e) => {
                    if (!isDragging) return;
                    e.preventDefault();
                    
                    const rect = throttleSlider.getBoundingClientRect();
                    let clientY;
                    if (e.touches) {
                        clientY = e.touches[0].clientY;
                    } else {
                        clientY = e.clientY;
                    }
                    
                    const y = clientY - rect.top;
                    const percentage = Math.max(0, Math.min(100, (1 - y / rect.height) * 100));
                    updateThrottle(percentage);
                };
                
                const handleEnd = () => {
                    isDragging = false;
                };
                
                throttleSlider.addEventListener('touchstart', handleStart);
                throttleSlider.addEventListener('touchmove', handleMove);
                throttleSlider.addEventListener('touchend', handleEnd);
                
                throttleSlider.addEventListener('mousedown', handleStart);
                document.addEventListener('mousemove', handleMove);
                document.addEventListener('mouseup', handleEnd);
            }
        });
    </script>
</body>
</html>
