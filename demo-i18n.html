<!DOCTYPE html>
<html lang="zh-CN" data-i18n-title="main.gameTitle">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šè¯­è¨€æ”¯æŒæ¼”ç¤º - WSP</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/i18n.css">
    <style>
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            color: #ffffff;
        }
        
        .demo-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .lang-demo {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .demo-stats {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }
        
        .demo-button {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.2s;
        }
        
        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
        }
        
        .current-lang {
            background: rgba(79, 172, 254, 0.2);
            color: #4facfe;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9em;
            display: inline-block;
            margin: 10px 0;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .feature-list li::before {
            content: 'âœ“';
            color: #4ade80;
            font-weight: bold;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <!-- è¯­è¨€åˆ‡æ¢å™¨ -->
    <div id="languageSwitcher" class="language-switcher top-right"></div>
    
    <div class="starfield">
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
    </div>
    
    <div class="demo-container">
        <header class="demo-section">
            <h1 data-i18n="demo.title">å¤šè¯­è¨€æ”¯æŒæ¼”ç¤º</h1>
            <p data-i18n="demo.subtitle">Web Space Program å›½é™…åŒ–åŠŸèƒ½å±•ç¤º</p>
            <div class="current-lang">
                <strong data-i18n="language.current">å½“å‰è¯­è¨€:</strong>
                <span id="currentLangDisplay">ç®€ä½“ä¸­æ–‡</span>
            </div>
        </header>
        
        <section class="demo-section">
            <h2 data-i18n="demo.features.title">åŠŸèƒ½ç‰¹æ€§</h2>
            <div class="demo-grid">
                <div class="lang-demo">
                    <h3 data-i18n="demo.features.automatic.title">è‡ªåŠ¨è¯­è¨€æ£€æµ‹</h3>
                    <p data-i18n="demo.features.automatic.description">ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€å¹¶è®¾ç½®ç›¸åº”çš„æ˜¾ç¤ºè¯­è¨€</p>
                </div>
                <div class="lang-demo">
                    <h3 data-i18n="demo.features.realtime.title">å®æ—¶åˆ‡æ¢</h3>
                    <p data-i18n="demo.features.realtime.description">æ— éœ€åˆ·æ–°é¡µé¢å³å¯åˆ‡æ¢è¯­è¨€ï¼Œæ‰€æœ‰æ–‡æœ¬å†…å®¹ç«‹å³æ›´æ–°</p>
                </div>
                <div class="lang-demo">
                    <h3 data-i18n="demo.features.persistence.title">è®°å¿†è®¾ç½®</h3>
                    <p data-i18n="demo.features.persistence.description">è¯­è¨€é€‰æ‹©ä¼šä¿å­˜åœ¨æœ¬åœ°å­˜å‚¨ä¸­ï¼Œä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨æ¢å¤</p>
                </div>
                <div class="lang-demo">
                    <h3 data-i18n="demo.features.parts.title">éƒ¨ä»¶æ•°æ®</h3>
                    <p data-i18n="demo.features.parts.description">ç«ç®­éƒ¨ä»¶åç§°å’Œæè¿°æ”¯æŒå¤šè¯­è¨€æ˜¾ç¤º</p>
                </div>
            </div>
        </section>
        
        <section class="demo-section">
            <h2 data-i18n="demo.interface.title">ç•Œé¢å…ƒç´ æ¼”ç¤º</h2>
            <div class="demo-grid">
                <div class="lang-demo">
                    <h3 data-i18n="rocketBuilder.title">è½½å…·è£…é…å¤§æ¥¼</h3>
                    <ul class="feature-list">
                        <li data-i18n="rocketBuilder.partsLibrary.title">éƒ¨ä»¶åº“</li>
                        <li data-i18n="rocketBuilder.assemblyArea.title">è£…é…åŒºåŸŸ</li>
                        <li data-i18n="rocketBuilder.infoPanel.title">è½½å…·ä¿¡æ¯</li>
                    </ul>
                    <button class="demo-button" data-i18n="rocketBuilder.saveDesign">ä¿å­˜è®¾è®¡</button>
                    <button class="demo-button" data-i18n="rocketBuilder.launch">å‘å°„</button>
                </div>
                <div class="lang-demo">
                    <h3 data-i18n="launchPad.title">å‘å°„å°</h3>
                    <div class="demo-stats">
                        <span data-i18n="launchPad.flightData.altitude">é«˜åº¦:</span>
                        <span id="demoAltitude">145 m</span>
                    </div>
                    <div class="demo-stats">
                        <span data-i18n="launchPad.flightData.velocity">é€Ÿåº¦:</span>
                        <span id="demoVelocity">25.7 m/s</span>
                    </div>
                    <div class="demo-stats">
                        <span data-i18n="launchPad.flightData.fuel">ç‡ƒæ–™:</span>
                        <span id="demoFuel">87%</span>
                    </div>
                    <button class="demo-button" data-i18n="launchPad.controls.launch">ç‚¹ç«å‘å°„</button>
                    <button class="demo-button" data-i18n="launchPad.controls.abort">ä¸­æ­¢</button>
                </div>
            </div>
        </section>
        
        <section class="demo-section">
            <h2 data-i18n="demo.parts.title">éƒ¨ä»¶ç¿»è¯‘æ¼”ç¤º</h2>
            <div class="demo-grid">
                <div class="lang-demo">
                    <h4 data-i18n="parts.commandPod.name">Mk1 æŒ‡ä»¤èˆ±</h4>
                    <p data-i18n="parts.commandPod.description">åŸºç¡€çš„è½½äººæŒ‡ä»¤èˆ±ï¼Œå¯å®¹çº³1åå®‡èˆªå‘˜</p>
                </div>
                <div class="lang-demo">
                    <h4 data-i18n="parts.liquidEngine.name">LV-T30 æ¶²ä½“ç‡ƒæ–™å¼•æ“</h4>
                    <p data-i18n="parts.liquidEngine.description">å¯é çš„æ¶²ä½“ç‡ƒæ–™ç«ç®­å¼•æ“</p>
                </div>
                <div class="lang-demo">
                    <h4 data-i18n="parts.fuelTankMedium.name">FL-T400 ç‡ƒæ–™ç®±</h4>
                    <p data-i18n="parts.fuelTankMedium.description">ä¸­å‹æ¶²ä½“ç‡ƒæ–™ç®±</p>
                </div>
                <div class="lang-demo">
                    <h4 data-i18n="parts.decoupler.name">TD-12 åˆ†ç¦»å™¨</h4>
                    <p data-i18n="parts.decoupler.description">ç”¨äºåˆ†ç¦»ç«ç®­çº§çš„è£…ç½®</p>
                </div>
            </div>
        </section>
        
        <section class="demo-section">
            <h2 data-i18n="demo.languages.title">æ”¯æŒçš„è¯­è¨€</h2>
            <div class="demo-grid">
                <div class="lang-demo">
                    <h3>ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</h3>
                    <p data-i18n="demo.languages.chinese">å®Œæ•´çš„ä¸­æ–‡ç•Œé¢ï¼ŒåŒ…æ‹¬æ‰€æœ‰èœå•ã€æŒ‰é’®å’Œæç¤ºæ–‡æœ¬</p>
                    <button class="demo-button lang-switch" data-lang="zh-CN">åˆ‡æ¢åˆ°ä¸­æ–‡</button>
                </div>
                <div class="lang-demo">
                    <h3>ğŸ‡ºğŸ‡¸ English</h3>
                    <p data-i18n="demo.languages.english">Complete English interface with all menus, buttons and help text</p>
                    <button class="demo-button lang-switch" data-lang="en-US">Switch to English</button>
                </div>
            </div>
        </section>
        
        <section class="demo-section">
            <h2 data-i18n="demo.technical.title">æŠ€æœ¯ç‰¹æ€§</h2>
            <ul class="feature-list">
                <li data-i18n="demo.technical.lazy">æŒ‰éœ€åŠ è½½è¯­è¨€åŒ…</li>
                <li data-i18n="demo.technical.fallback">æ™ºèƒ½å›é€€æœºåˆ¶</li>
                <li data-i18n="demo.technical.parameters">æ”¯æŒå‚æ•°æ’å€¼</li>
                <li data-i18n="demo.technical.formatting">æœ¬åœ°åŒ–æ•°å­—å’Œæ—¥æœŸæ ¼å¼</li>
                <li data-i18n="demo.technical.events">è¯­è¨€åˆ‡æ¢äº‹ä»¶ç³»ç»Ÿ</li>
                <li data-i18n="demo.technical.performance">é«˜æ€§èƒ½æ›´æ–°æœºåˆ¶</li>
            </ul>
        </section>
        
        <footer class="demo-section">
            <p data-i18n="demo.footer">è¿”å› <a href="index.html" data-i18n="common.home">ä¸»é¡µ</a> ä½“éªŒå®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒåŠŸèƒ½ã€‚</p>
        </footer>
    </div>
    
    <script src="js/i18n/i18n.js"></script>
    <script src="js/i18n/language-switcher.js"></script>
    <script src="js/i18n/i18n-parts.js"></script>
    
    <script>
        // æ‰©å±•æ¼”ç¤ºé¡µé¢çš„è¯­è¨€åŒ…
        const demoTranslations = {
            'zh-CN': {
                demo: {
                    title: 'å¤šè¯­è¨€æ”¯æŒæ¼”ç¤º',
                    subtitle: 'Web Space Program å›½é™…åŒ–åŠŸèƒ½å±•ç¤º',
                    features: {
                        title: 'åŠŸèƒ½ç‰¹æ€§',
                        automatic: {
                            title: 'è‡ªåŠ¨è¯­è¨€æ£€æµ‹',
                            description: 'ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€å¹¶è®¾ç½®ç›¸åº”çš„æ˜¾ç¤ºè¯­è¨€'
                        },
                        realtime: {
                            title: 'å®æ—¶åˆ‡æ¢',
                            description: 'æ— éœ€åˆ·æ–°é¡µé¢å³å¯åˆ‡æ¢è¯­è¨€ï¼Œæ‰€æœ‰æ–‡æœ¬å†…å®¹ç«‹å³æ›´æ–°'
                        },
                        persistence: {
                            title: 'è®°å¿†è®¾ç½®',
                            description: 'è¯­è¨€é€‰æ‹©ä¼šä¿å­˜åœ¨æœ¬åœ°å­˜å‚¨ä¸­ï¼Œä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨æ¢å¤'
                        },
                        parts: {
                            title: 'éƒ¨ä»¶æ•°æ®',
                            description: 'ç«ç®­éƒ¨ä»¶åç§°å’Œæè¿°æ”¯æŒå¤šè¯­è¨€æ˜¾ç¤º'
                        }
                    },
                    interface: {
                        title: 'ç•Œé¢å…ƒç´ æ¼”ç¤º'
                    },
                    parts: {
                        title: 'éƒ¨ä»¶ç¿»è¯‘æ¼”ç¤º'
                    },
                    languages: {
                        title: 'æ”¯æŒçš„è¯­è¨€',
                        chinese: 'å®Œæ•´çš„ä¸­æ–‡ç•Œé¢ï¼ŒåŒ…æ‹¬æ‰€æœ‰èœå•ã€æŒ‰é’®å’Œæç¤ºæ–‡æœ¬',
                        english: 'å®Œæ•´çš„è‹±æ–‡ç•Œé¢ï¼ŒåŒ…æ‹¬æ‰€æœ‰èœå•ã€æŒ‰é’®å’Œå¸®åŠ©æ–‡æœ¬'
                    },
                    technical: {
                        title: 'æŠ€æœ¯ç‰¹æ€§',
                        lazy: 'æŒ‰éœ€åŠ è½½è¯­è¨€åŒ…',
                        fallback: 'æ™ºèƒ½å›é€€æœºåˆ¶',
                        parameters: 'æ”¯æŒå‚æ•°æ’å€¼',
                        formatting: 'æœ¬åœ°åŒ–æ•°å­—å’Œæ—¥æœŸæ ¼å¼',
                        events: 'è¯­è¨€åˆ‡æ¢äº‹ä»¶ç³»ç»Ÿ',
                        performance: 'é«˜æ€§èƒ½æ›´æ–°æœºåˆ¶'
                    },
                    footer: 'è¿”å›ä¸»é¡µä½“éªŒå®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒåŠŸèƒ½ã€‚'
                }
            },
            'en-US': {
                demo: {
                    title: 'Multi-language Support Demo',
                    subtitle: 'Web Space Program Internationalization Features',
                    features: {
                        title: 'Features',
                        automatic: {
                            title: 'Auto Language Detection',
                            description: 'Automatically detects browser language and sets appropriate display language'
                        },
                        realtime: {
                            title: 'Real-time Switching',
                            description: 'Switch languages without page refresh, all text content updates instantly'
                        },
                        persistence: {
                            title: 'Remember Settings',
                            description: 'Language selection is saved in local storage and restored on next visit'
                        },
                        parts: {
                            title: 'Parts Data',
                            description: 'Rocket part names and descriptions support multi-language display'
                        }
                    },
                    interface: {
                        title: 'Interface Elements Demo'
                    },
                    parts: {
                        title: 'Parts Translation Demo'
                    },
                    languages: {
                        title: 'Supported Languages',
                        chinese: 'Complete Chinese interface with all menus, buttons and help text',
                        english: 'Complete English interface with all menus, buttons and help text'
                    },
                    technical: {
                        title: 'Technical Features',
                        lazy: 'Lazy loading of language packs',
                        fallback: 'Smart fallback mechanism',
                        parameters: 'Parameter interpolation support',
                        formatting: 'Localized number and date formatting',
                        events: 'Language switching event system',
                        performance: 'High-performance update mechanism'
                    },
                    footer: 'Return to the home page to experience complete multi-language support.'
                }
            }
        };
        
        // åˆå§‹åŒ–æ¼”ç¤º
        document.addEventListener('DOMContentLoaded', async () => {
            // æ‰©å±•è¯­è¨€åŒ…
            Object.keys(demoTranslations).forEach(lang => {
                if (window.i18n.translations[lang]) {
                    Object.assign(window.i18n.translations[lang], demoTranslations[lang]);
                } else {
                    window.i18n.translations[lang] = demoTranslations[lang];
                }
            });
            
            await window.i18n.init();
            await window.i18nRocketParts.init();
            
            // åˆ›å»ºè¯­è¨€åˆ‡æ¢å™¨
            new LanguageSwitcher('#languageSwitcher', {
                style: 'dropdown',
                showFlag: true,
                showText: true
            });
            
            // æ›´æ–°å½“å‰è¯­è¨€æ˜¾ç¤º
            updateCurrentLanguageDisplay();
            
            // ç›‘å¬è¯­è¨€åˆ‡æ¢
            window.addEventListener('languageChanged', () => {
                updateCurrentLanguageDisplay();
                updateDemoValues();
            });
            
            // åˆå§‹åŒ–æ¼”ç¤ºæ•°å€¼
            updateDemoValues();
        });
        
        function updateCurrentLanguageDisplay() {
            const display = document.getElementById('currentLangDisplay');
            if (display && window.i18n) {
                display.textContent = window.i18n.getLanguageDisplayName();
            }
        }
        
        function updateDemoValues() {
            // æ›´æ–°æ¼”ç¤ºæ•°å€¼çš„å•ä½
            if (window.i18nRocketParts) {
                document.getElementById('demoAltitude').textContent = 
                    window.i18nRocketParts.formatValueWithUnit(145, 'm');
                document.getElementById('demoVelocity').textContent = 
                    window.i18nRocketParts.formatValueWithUnit(25.7, 'm/s');
                document.getElementById('demoFuel').textContent = 
                    window.i18nRocketParts.formatValueWithUnit(87, '%');
            }
        }
    </script>
</body>
</html>
